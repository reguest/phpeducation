<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Yüzen Başvuru Butonu + Form (Örnek)</title>
  <style>
    /* Temel reset */
    *{box-sizing:border-box}
    body{font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;margin:0}

    /* Yüzen sol buton */
    #floating-apply-btn{
      position:fixed;
      left:16px;
      top:50%;
      transform:translateY(-50%);
      z-index:99999;
      background:#0b69ff;
      color:#fff;
      border:none;
      padding:12px 14px;
      border-radius:8px;
      box-shadow:0 6px 18px rgba(11,105,255,0.18);
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:10px;
      transition:transform .15s ease,opacity .15s;
      font-weight:600;
    }
    #floating-apply-btn:hover{transform:translateY(-50%) scale(1.03)}

    /* Küçük ekranlarda biraz daha ince ve alta çek */
    @media (max-width:600px){
      #floating-apply-btn{left:10px;padding:10px 12px;border-radius:10px}
    }

    /* Modal arkaplan */
    .apply-modal-backdrop{
      position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:99998;padding:20px;
    }
    .apply-modal-backdrop.show{display:flex}

    /* Modal kutu */
    .apply-modal{
      width:100%;max-width:520px;background:#fff;border-radius:12px;padding:20px 18px;box-shadow:0 20px 60px rgba(2,6,23,0.3);position:relative;
      transform:translateY(10px);transition:transform .18s ease,opacity .18s ease;opacity:0
    }
    .apply-modal-backdrop.show .apply-modal{transform:none;opacity:1}

    .apply-modal h3{margin:0 0 12px;font-size:18px}
    .apply-row{display:flex;gap:10px}
    .apply-row .field{flex:1}
    .field{margin-bottom:10px}
    label{display:block;font-size:13px;margin-bottom:6px;color:#333}
    input[type="text"],input[type="email"],input[type="tel"],textarea,select{
      width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px;font-size:14px;outline:none
    }
    textarea{min-height:100px;resize:vertical}

    .modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
    .btn{padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    .btn.secondary{background:#f3f4f6;color:#111}
    .btn.primary{background:#0b69ff;color:#fff}

    /* Kapanma ikonu */
    .close-x{position:absolute;right:10px;top:10px;background:transparent;border:0;font-size:20px;cursor:pointer}

    /* Hata/başarı mesajları */
    .form-alert{display:none;padding:8px 10px;border-radius:8px;margin-bottom:8px;font-size:13px}
    .form-alert.show{display:block}
    .form-alert.error{background:#fff1f2;color:#9f1239;border:1px solid #fecaca}
    .form-alert.success{background:#ecfdf5;color:#065f46;border:1px solid #bbf7d0}
  </style>
</head>
<body>

  <!-- Yüzen Buton (sayfanın herhangi bir yerinde çalışır) -->
  <button id="floating-apply-btn" aria-haspopup="dialog" aria-controls="apply-modal">
    <!-- Basit ikon (SVG) -->
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M12 2v20M2 12h20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    Başvuru Yap
  </button>

  <!-- Modal -->
  <div class="apply-modal-backdrop" id="apply-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="apply-modal" role="document">
      <button class="close-x" aria-label="Kapat" id="apply-close">✕</button>
      <h3>Başvuru Formu</h3>

      <div class="form-alert" id="form-alert" role="status"></div>

      <form id="apply-form">
        <div class="apply-row">
          <div class="field">
            <label for="isim">Ad</label>
            <input id="isim" name="isim" type="text" placeholder="Adınız" required />
          </div>
          <div class="field">
            <label for="telefon">Telefon</label>
            <input id="telefon" name="telefon" type="tel" placeholder="0 5xx xxx xxxx" />
          </div>
        </div>

        <div class="field">
          <label for="email">E-posta</label>
          <input id="email" name="email" type="email" placeholder="ornek@eposta.com" required />
        </div>

        <div class="field">
          <label for="konu">Konu</label>
          <input id="konu" name="konu" type="text" placeholder="Konu" />
        </div>

        <div class="field">
          <label for="mesaj">Mesaj</label>
          <textarea id="mesaj" name="mesaj" placeholder="Mesajınızı yazın..."></textarea>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn secondary" id="apply-cancel">İptal</button>
          <button type="submit" class="btn primary">Gönder</button>
        </div>
      </form>

    </div>
  </div>

  <script>
    (function(){
      const btn = document.getElementById('floating-apply-btn');
      const modal = document.getElementById('apply-modal');
      const close = document.getElementById('apply-close');
      const cancel = document.getElementById('apply-cancel');
      const form = document.getElementById('apply-form');
      const alertBox = document.getElementById('form-alert');

      function openModal(){
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');
        // odak yönetimi: ilk girişte isim alanına odakla
        setTimeout(()=>document.getElementById('isim').focus(),120);
      }
      function closeModal(){
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden','true');
        btn.focus();
      }

      btn.addEventListener('click',openModal);
      close.addEventListener('click',closeModal);
      cancel.addEventListener('click',closeModal);

      // backdrop / dışına tıklayınca kapat
      modal.addEventListener('click',function(e){
        if(e.target === modal) closeModal();
      });

      // ESC ile kapatma
      document.addEventListener('keydown',function(e){
        if(e.key === 'Escape' && modal.classList.contains('show')) closeModal();
      });

      // Form gönderimi (örnek: AJAX yerine demo davranışı)
      form.addEventListener('submit',function(e){
        e.preventDefault();
        alertBox.className = 'form-alert';

        const data = {
          isim: form.isim.value.trim(),
          email: form.email.value.trim(),
          telefon: form.telefon.value.trim(),
          konu: form.konu.value.trim(),
          mesaj: form.mesaj.value.trim()
        };

        // Basit doğrulama
        if(!data.isim || !data.email){
          alertBox.textContent = 'Lütfen ad ve e-posta alanlarını doldurun.';
          alertBox.classList.add('show','error');
          return;
        }

        // Burada fetch ile kendi endpoint'ine POST atabilirsin.
        // Örnek olarak gönderme davranışını simüle ediyorum:
        alertBox.textContent = 'Gönderiliyor...';
        alertBox.classList.add('show');

        // Simüle edilmiş gecikme
        setTimeout(()=>{
          // başarı
          alertBox.textContent = 'Başvurunuz alındı. Teşekkürler!';
          alertBox.classList.remove('error');
          alertBox.classList.add('success');
          form.reset();

          // 1.6s sonra modalı kapat
          setTimeout(closeModal,1600);
        },800);
      });

      // Eğer sayfaya eklenti olarak yerleştiriyorsan, kodun başka çakışmalara girmemesi için IIFE içinde tuttum.

    })();
  </script>

</body>
</html>